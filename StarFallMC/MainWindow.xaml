<Window x:Class="StarFallMC.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:comp="clr-namespace:StarFallMC.Component"
        mc:Ignorable="d"
        Title="StarFall Minecraft Launcher" Height="450" Width="800"
        MinHeight="450"
        MinWidth="800"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        UseLayoutRounding="True"
        SnapsToDevicePixels="True"
        TextOptions.TextFormattingMode="Display"
        TextOptions.TextRenderingMode="ClearType"
        RenderOptions.ClearTypeHint="Enabled"
        Name="MainWindowPage"
        Opacity="0"
        Icon="assets/ico.ico">
    
    <Window.Resources>
        <ResourceDictionary Source="/Style/MainWindowStyle.xaml"></ResourceDictionary>
    </Window.Resources>
    
    <Window.Triggers>
        <EventTrigger RoutedEvent="Window.Loaded">
            <BeginStoryboard Storyboard="{StaticResource InitMainWindow}"></BeginStoryboard>
        </EventTrigger>
    </Window.Triggers>
    <WindowChrome.WindowChrome>
        <WindowChrome 
            CaptionHeight="0"
            CornerRadius="5"
            ResizeBorderThickness="5"
            GlassFrameThickness="0"/>
    </WindowChrome.WindowChrome>
    <Grid>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="55"></RowDefinition>
                <RowDefinition Height="*"></RowDefinition>
            </Grid.RowDefinitions>
            <Grid Grid.Row="1">
                <Frame Name="MainFrame" Source="Home.xaml">
                    <Frame.Effect>
                        <BlurEffect Radius="0"></BlurEffect>
                    </Frame.Effect>
                    <Frame.RenderTransform>
                        <TranslateTransform X="0"></TranslateTransform>
                    </Frame.RenderTransform>
                </Frame>
                <Frame Name="SettingFrame" Source="Setting.xaml" Opacity="0">
                    <Frame.RenderTransform>
                        <TranslateTransform X="{Binding ElementName=SettingFrame,Path=ActualWidth}"></TranslateTransform>
                    </Frame.RenderTransform>
                </Frame>
                <Frame Name="DownloadGameFrame" Source="ResourcePage.xaml" Opacity="0">
                    <Frame.RenderTransform>
                        <TranslateTransform X="{Binding ElementName=DownloadGameFrame,Path=ActualWidth}"></TranslateTransform>
                    </Frame.RenderTransform>
                </Frame>
                <Frame Name="SubFrame" Source="SelectGame.xaml" Opacity="0">
                    <Frame.RenderTransform>
                        <TranslateTransform Y="{Binding ElementName=SubFrame,Path=ActualHeight}"></TranslateTransform>
                    </Frame.RenderTransform>
                </Frame>
                <Frame Name="DownloadFrame" Source="DownloadPage.xaml" Opacity="0" IsHitTestVisible="False">
                    <Frame.RenderTransform>
                        <TranslateTransform Y="-50"></TranslateTransform>
                    </Frame.RenderTransform>
                </Frame>
            </Grid>
            <Border Name="TopFrame" Height="55" CornerRadius="6,6,0,0" 
                    Background="{DynamicResource PrimaryBrush_3}" 
                    VerticalAlignment="Top" 
                    MouseLeftButtonDown="TopFrame_OnMouseLeftButtonDown">
                <Grid>
                    <Button Name="BackBtn" Width="35" Height="35" HorizontalAlignment="Left" 
                            Style="{StaticResource OperateBtn}" Click="BackBtn_OnClick">
                        <TextBlock Text="&#xea18;" FontFamily="{StaticResource IconFontFamily}" ></TextBlock>
                        <Button.RenderTransform>
                            <TranslateTransform X="-50"></TranslateTransform>
                        </Button.RenderTransform>
                    </Button>
                    <Image Name="Icon" Width="35" Height="35" Source="assets/ico.ico" HorizontalAlignment="Left" Margin="10">
                        <Image.RenderTransform>
                            <TranslateTransform X="0"></TranslateTransform>
                        </Image.RenderTransform>
                    </Image>
                    <TextBlock Name="LauncherName" VerticalAlignment="Center" HorizontalAlignment="Left" 
                               Foreground="{DynamicResource SecondaryBrush_2}" 
                               FontSize="20" Margin="60 0 0 0" Text="SFMCL">
                        <TextBlock.RenderTransform>
                            <TranslateTransform></TranslateTransform>
                        </TextBlock.RenderTransform>
                    </TextBlock>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Right">
                        <Button Name="MiniBtn" Width="35" Height="35" Style="{StaticResource OperateBtn}" Click="MiniBtn_OnClick">
                            <TextBlock FontFamily="{StaticResource IconFontFamily}" Text="&#xe9ca;"></TextBlock>
                        </Button>
                        <Button Name="CloseBtn" Width="35" Height="35" Style="{StaticResource OperateBtn}" Click="CloseBtn_OnClick">
                            <TextBlock FontFamily="{StaticResource IconFontFamily}" Text="&#xe90b;"></TextBlock>
                        </Button>
                    </StackPanel>
                    <Grid VerticalAlignment="Center" HorizontalAlignment="{Binding NaviHorizontalAlignment}" Margin="{Binding NaviMargin}">
                        <TextBlock Name="Title" TextAlignment="Center" FontSize="20" 
                                   Foreground="{DynamicResource SecondaryBrush_2}" 
                                   VerticalAlignment="Center" HorizontalAlignment="Center" 
                                   FontWeight="Bold" Text="Title">
                            <TextBlock.RenderTransform>
                                <TranslateTransform Y="-55"></TranslateTransform>
                            </TextBlock.RenderTransform>
                        </TextBlock>
                        <comp:NavigationBar x:Name="OperateGrid" VerticalAlignment="Center" HorizontalAlignment="Center" 
                                            ItemMargin="10 0" 
                                            ItemsSource="{Binding Tabs}" SelectedIndex="0"
                                            SelectionChanged="OperateGrid_OnSelectionChanged">
                            <comp:NavigationBar.RenderTransform>
                                <TranslateTransform></TranslateTransform>
                            </comp:NavigationBar.RenderTransform>
                        </comp:NavigationBar>
                    </Grid>
                </Grid>
            </Border>
        </Grid>
        
        <Grid Name="MessageBoxContainer"></Grid>
        <Grid Name="MessageTipContainer"></Grid>
        <Border CornerRadius="5" 
                BorderThickness="2"
                BorderBrush="{DynamicResource PrimaryBrush_3}"></Border>
    </Grid>
</Window>
